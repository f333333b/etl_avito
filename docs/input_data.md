# Формат входных данных

ETL-пайплайн принимает данные в формате Excel (`.xlsx`). Файл содержит объявления для платформы Avito с фиксированным набором столбцов. Ниже приведена структура данных:

| Столбец           | Описание                         | Формат                                            | Пример значения                               |
|-------------------|----------------------------------|---------------------------------------------------|-----------------------------------------------|
| Id                | Уникальный ID объявления         | Строка                                            | `sg00001`                                     |
| AvitoId           | ID объявления на Avito           | Целое число                                       | `12345678`                                    |
| AvitoStatus       | Статус объявления                | Строка                                            | `Активно`                                     |
| AvitoDateEnd      | Дата окончания публикации        | Дата/время (ISO 8601)                             | `2025-06-06T17:26:07+03:00`                   |
| ListingFee        | Тип оплаты за размещение         | Строка                                            | `Package`                                     |
| Category          | Категория техники                | Строка                                            | `Мотоциклы и мототехника`                     |
| Title             | Заголовок объявления             | Строка                                            | `Квадроцикл promax 380 4X4 ALL road (2025)`   |
| Description       | Описание объявления              | Строка                                            | `Описание`                                    |
| Condition         | Состояние техники                | Строка                                            | `Б/у`, `Новое`                                |
| Price             | Цена (руб.)                      | Целое число                                       | `470000`                                      |
| ImageUrls         | Ссылки на изображения            | Строка                                            | `https://test.com/test.png`                   |
| VideoUrl          | Ссылка на видео                  | Строка (URL или пустая)                           | `https://www.youtube.com/watch?v=jNQXAC9IVRw` |
| Address           | Адрес (регион, город, улица)     | Строка                                            | `Москва`                                      |
| ManagerName       | Имя менеджера                    | Строка                                            | `Менеджер`                                    |
| EMail             | Email для связи                  | Строка                                            | `test@test.com`                               |
| ContactPhone      | Телефон для связи                | Строка                                            | `71234567890`                                 |
| ContactMethod     | Способ связи                     | Строка                                            | `По телефону и в сообщениях`                  |
| Availability      | Наличие техники                  | Строка                                            | `В наличии`                                   |
| CompanyName       | Название компании                | Строка                                            | `RandomCompanyName`                           |
| Control           | Тип управления                   | Строка (или пустая)                               | ``                                            |
| Cylinders         | Количество цилиндров             | Целое число (или пустое)                          | `1`                                           |
| CylindersPosition | Расположение цилиндров           | Строка (или пустая)                               | ``                                            |
| DisplayAreas      | Области отображения              | Строка (или пустая)                               | ``                                            |
| DriveType         | Тип привода                      | Строка (или пустая)                               | `Карданный`                                   |
| EngineCapacity    | Объём двигателя (куб. см)        | Целое число (или пустое)                          | `380`                                         |
| EngineCooling     | Тип охлаждения двигателя         | Строка (или пустая)                               | `Воздушное`                                   |
| EngineIncluded    | Наличие двигателя                | Строка (или пустая)                               | ``                                            |
| EngineMake        | Производитель двигателя          | Строка (или пустая)                               | `ZONSHENG`                                    |
| EngineType        | Тип двигателя                    | Строка (или пустая)                               | `Бензин`                                      |
| EngineWeight      | Вес двигателя                    | Целое число (или пустое)                          | ``                                            |
| EngineYear        | Год выпуска двигателя            | Целое число (или пустое)                          | ``                                            |
| FloorType         | Тип пола                         | Строка (или пустая)                               | ``                                            |
| FuelFeed          | Тип подачи топлива               | Строка (или пустая)                               | `Карбюратор`                                  |
| Kilometrage       | Пробег                           | Целое число (допустимый интервал от 1 до 1000000) | ``                                            |
| Length            | Длина (мм)                       | Целое число (или пустое)                          | `1900`                                        |
| Make              | Бренд техники                    | Строка                                            | `PROMAX`                                      |
| MaxPower          | Максимальная мощность (л.с.)     | Целое число (или пустое)                          | `38`                                          |
| Model             | Модель техники                   | Строка                                            | `380 4X4 ALL ROAD`                            |
| MotoType          | Тип мотоцикла/техники            | Строка (или пустая)                               | `Утилитарный`                                 |
| NumberOfGears     | Количество передач               | Целое число (или пустое)                          | `5`                                           |
| Owners            | Количество владельцев            | Целое число (или пустое)                          | `10`                                          |
| PersonCapacity    | Вместимость                      | Целое число (или пустое)                          | `2`                                           |
| Power             | Мощность (л.с.)                  | Целое число (или пустое)                          | `38`                                          |
| SeatingCapacity   | Количество мест                  | Целое число (или пустое)                          | ``                                            |
| ShaftLength       | Длина вала                       | Целое число (или пустое)                          | ``                                            |
| StartingSystem    | Система запуска                  | Строка (или пустая)                               | `Электрический`                               |
| Stroke            | Тактность двигателя              | Целое число (или пустое)                          | `4`                                           |
| TechnicalPassport | Наличие техпаспорта              | Строка (из списка допустимых значений)            | `Оригинал`, `Дублика`, `Электронный`, `Нет`   |
| TrackWidth        | Ширина гусеницы (мм)             | Целое число (или пустое)                          | `500`                                         |
| TrailerIncluded   | Наличие прицепа                  | Строка (или пустая)                               | `Да`                                          |
| Transmission      | Тип трансмиссии                  | Строка (или пустая)                               | `Механическая`, `Вариатор`                    |
| TransomHeight     | Высота транца                    | Целое число (или пустое)                          | `381`                                         |
| Type              | Тип техники                      | Строка                                            | `Квадроциклы`                                 |
| VehicleType       | Категория транспортного средства | Строка                                            | `Снегоходы`                                   |
| VIN               | VIN-код                          | Строка (или пустая)                               | `0000000000000`                               |
| Weight            | Вес техники (кг)                 | Целое число (или пустое)                          | `150`                                         |
| Width             | Ширина (мм)                      | Целое число (или пустое)                          | `1200`                                        |
| Year              | Год выпуска техники              | Целое число                                       | `2025`                                        |

## Особенности данных
- **Кодировка**: Файл в формате `.xlsx` (Excel).
- **Дубликаты**: Возможны дубликаты по `Id` или `AvitoId`, которые должны быть удалены на этапе Transform.
- **Пустые значения**: Многие столбцы (например, `Control`, `CylindersPosition`, `VIN`) часто пустые, что требует обработки null-значений в ETL.
- **ImageUrls**: Содержит одну или несколько ссылок, разделённых ` | `. В тестовых данных используется одна ссылка на заглушку.
- **VideoUrl**: Часто пустое, как в предоставленных данных.
- **Address**: Должен соответствовать справочнику `dealerships.py` для валидации дилерских ограничений.
- **Title**: Требует нормализации (например, приведение к единому регистру или формату).

## Тестовый файл
Пример данных доступен в `data/test_data.xlsx`, который включает:
- Нормальные записи для разных типов техники (квадроциклы, питбайки, мотобуксировщики).
- Дубликаты по `Id` и `AvitoId` для проверки очистки.
- Разные адреса для проверки валидации по справочнику `dealerships.py`.
- Пустые значения в необязательных столбцах для тестирования обработки null-значений.