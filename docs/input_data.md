# Формат входных данных

ETL-пайплайн принимает данные в формате Excel (`.xlsx`). Файл содержит объявления для платформы Avito с фиксированным набором столбцов. Ниже приведена структура данных:

| Столбец           | Описание                         | Формат                   | Пример значения                               |
|-------------------|----------------------------------|--------------------------|-----------------------------------------------|
| Id                | Уникальный ID объявления         | Строка                   | `sg00001`                                     |
| AvitoId           | ID объявления на Avito           | Целое число              | `12345678`                                    |
| AvitoStatus       | Статус объявления                | Строка                   | `Активно`                                     |
| AvitoDateEnd      | Дата окончания публикации        | Дата/время (ISO 8601)    | `2025-06-06T17:26:07+03:00`                   |
| ListingFee        | Тип оплаты за размещение         | Строка                   | `Package`                                     |
| Category          | Категория техники                | Строка                   | `Мотоциклы и мототехника`                     |
| Title             | Заголовок объявления             | Строка                   | `Квадроцикл promax 380 4X4 ALL road (2025)`   |
| Description       | Описание объявления              | Строка                   | `Описание`                                    |
| Condition         | Состояние техники                | Строка                   | `Б/у`, `Новое`                                |
| Price             | Цена (руб.)                      | Целое число              | `470000`                                      |
| ImageUrls         | Ссылки на изображения            | Строка                   | `https://test.com/test.png`                   |
| VideoUrl          | Ссылка на видео                  | Строка (URL или пустая)  | `https://www.youtube.com/watch?v=jNQXAC9IVRw` |
| Address           | Адрес (регион, город, улица)     | Строка                   | `Москва`                                      |
| ManagerName       | Имя менеджера                    | Строка                   | `Менеджер`                                    |
| EMail             | Email для связи                  | Строка                   | `test@test.com`                               |
| ContactPhone      | Телефон для связи                | Строка                   | `71234567890`                                 |
| ContactMethod     | Способ связи                     | Строка                   | `По телефону и в сообщениях`                  |
| Availability      | Наличие техники                  | Строка                   | `В наличии`, `Под заказ`                      |
| CompanyName       | Название компании                | Строка                   | `RandomCompanyName`                           |
| Control           | Тип управления                   | Строка (или пустая)      | ``                                            |
| Cylinders         | Количество цилиндров             | Целое число (или пустое) | `1`, ``                                       |
| CylindersPosition | Расположение цилиндров           | Строка (или пустая)      | ``                                            |
| DisplayAreas      | Области отображения              | Строка (или пустая)      | ``                                            |
| DriveType         | Тип привода                      | Строка (или пустая)      | `Карданный`, ``                               |
| EngineCapacity    | Объём двигателя (куб. см)        | Целое число (или пустое) | `380`, `125`, `150`, `420`                    |
| EngineCooling     | Тип охлаждения двигателя         | Строка (или пустая)      | `Жидкостное`, `Воздушное`, ``                 |
| EngineIncluded    | Наличие двигателя                | Строка (или пустая)      | ``                                            |
| EngineMake        | Производитель двигателя          | Строка (или пустая)      | `ZONSHENG`, `YINXIANG`, ``                    |
| EngineType        | Тип двигателя                    | Строка (или пустая)      | `Бензин`                                      |
| EngineWeight      | Вес двигателя                    | Целое число (или пустое) | ``                                            |
| EngineYear        | Год выпуска двигателя            | Целое число (или пустое) | ``                                            |
| FloorType         | Тип пола                         | Строка (или пустая)      | ``                                            |
| FuelFeed          | Тип подачи топлива               | Строка (или пустая)      | `Карбюратор`, ``                              |
| Kilometrage       | Пробег                           | Целое число (или пустое) | ``                                            |
| Length            | Длина (мм)                       | Целое число (или пустое) | `1900`, ``                                    |
| Make              | Бренд техники                    | Строка                   | `PROMAX`, `YACOTA`, `JHL`, `OPTI MAX`         |
| MaxPower          | Максимальная мощность (л.с.)     | Целое число (или пустое) | `38`, `9`, `11`, `15`                         |
| Model             | Модель техники                   | Строка                   | `380 4X4 ALL ROAD`, `SIRIUS LD`, `Z140E`      |
| MotoType          | Тип мотоцикла/техники            | Строка (или пустая)      | `Утилитарный`, `Детский`, `Кросс и эндуро`,   |
| NumberOfGears     | Количество передач               | Целое число (или пустое) | `5`, `2`, `1`, ``                             |
| Owners            | Количество владельцев            | Целое число (или пустое) | `10`                                          |
| PersonCapacity    | Вместимость                      | Целое число (или пустое) | `2`                                           |
| Power             | Мощность (л.с.)                  | Целое число (или пустое) | `38`, `9`, `11`, `15`                         |
| SeatingCapacity   | Количество мест                  | Целое число (или пустое) | ``                                            |
| ShaftLength       | Длина вала                       | Целое число (или пустое) | ``                                            |
| StartingSystem    | Система запуска                  | Строка (или пустая)      | `Электро + кикстартер`, `Электрический`, ``   |
| Stroke            | Тактность двигателя              | Целое число (или пустое) | `4`, ``                                       |
| TechnicalPassport | Наличие техпаспорта              | Строка (или пустая)      | ``                                            |
| TrackWidth        | Ширина гусеницы (мм)             | Целое число (или пустое) | `500`, ``                                     |
| TrailerIncluded   | Наличие прицепа                  | Строка (или пустая)      | ``                                            |
| Transmission      | Тип трансмиссии                  | Строка (или пустая)      | `Механическая`, `Вариатор`, ``                |
| TransomHeight     | Высота транца                    | Целое число (или пустое) | ``                                            |
| Type              | Тип техники                      | Строка                   | `Квадроциклы`, `Питбайк`, `Мотобуксировщик`   |
| VehicleType       | Категория транспортного средства | Строка                   | `Квадроциклы`, `Мотоциклы`, `Снегоходы`       |
| VIN               | VIN-код                          | Строка (или пустая)      | ``                                            |
| Weight            | Вес техники (кг)                 | Целое число (или пустое) | `150`, `80`, `100`                            |
| Width             | Ширина (мм)                      | Целое число (или пустое) | `1200`, `600`, ``                             |
| Year              | Год выпуска техники              | Целое число              | `2025`                                        |

## Особенности данных
- **Кодировка**: Файл в формате `.xlsx` (Excel).
- **Дубликаты**: Возможны дубликаты по `Id` или `AvitoId`, которые должны быть удалены на этапе Transform.
- **Пустые значения**: Многие столбцы (например, `Control`, `CylindersPosition`, `VIN`) часто пустые, что требует обработки null-значений в ETL.
- **ImageUrls**: Содержит одну или несколько ссылок, разделённых ` | `. В тестовых данных используется одна ссылка на заглушку.
- **VideoUrl**: Часто пустое, как в предоставленных данных.
- **Address**: Должен соответствовать справочнику `dealerships.py` для валидации дилерских ограничений.
- **Title**: Требует нормализации (например, приведение к единому регистру или формату).

## Тестовый файл
Пример данных доступен в `data/test_data.xlsx`, который включает:
- Нормальные записи для разных типов техники (квадроциклы, питбайки, мотобуксировщики).
- Дубликаты по `Id` и `AvitoId` для проверки очистки.
- Разные адреса для проверки валидации по справочнику `dealerships.py`.
- Пустые значения в необязательных столбцах для тестирования обработки null-значений.